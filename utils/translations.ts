
export const translations = {
  en: {
    voiceInk: 'VoiceInk',
    exportChat: 'Export Chat',
    settings: 'Settings',
    clearChat: 'Clear chat',
    help: 'Help / Tour',
    uploadAudioFile: 'Upload Audio File',
    uploadAudioFileDescription: 'Transcribe from a pre-recorded audio file.',
    start: 'Start',
    resume: 'Resume',
    stop: 'Stop',
    pause: 'Pause',
    toggleUserMic: 'Toggle microphone for your speech',
    toggleAIInsights: 'Toggle AI Insights Panel',
    saveAsTxt: 'Save as Text (.txt)',
    saveAsTxtDescription: 'A simple, unformatted text file.',
    saveScreenshotPdf: 'Save Screenshot as PDF',
    saveScreenshotPdfDescription: 'A high-fidelity PDF preserving the exact look.',
    saveAsPng: 'Save as Image (.png)',
    saveAsPngDescription: 'A single image file of the entire chat.',
    exportingPdf: 'Exporting...',
    saveAsDocx: 'Save as Word (.docx)',
    saveAsDocxDescription: 'An editable document for Word or Google Docs.',
    copyToClipboard: 'Copy to clipboard',
    copyToClipboardDescription: 'Copy the entire conversation to your clipboard.',
    sendToApp: 'Send to application',
    sendToAppDescription: "Use your device's share feature.",
    exportForNotebookLM: 'Export for NotebookLM',
    exportForNotebookLMDescription: 'Formatted text, ready for analysis.',
    notebookLMInstructionsTitle: 'Ready for NotebookLM!',
    notebookLMInstructionsP1: 'Your chat file has been saved to your Downloads folder.',
    notebookLMInstructionsP2: 'Follow these steps to analyze it:',
    notebookLMInstructionsL1: 'Open Google NotebookLM in a new tab.',
    notebookLMInstructionsL2: 'Create a new notebook or open an existing one.',
    notebookLMInstructionsL3: 'Add the downloaded file as a new Source.',
    notebookLMInstructionsLink: 'Open Google NotebookLM',
    you: 'You',
    speaker: 'Speaker',
    assistant: 'Assistant',
    avatarInitial: 'Avatar Initial',
    color: 'Color',
    saveChanges: 'Save Changes',
    cancel: 'Cancel',
    chooseAudioSource: 'Choose Audio Source',
    microphone: 'Microphone',
    microphoneDescription: 'Transcribe audio from your microphone.',
    computerAudio: 'Computer Audio',
    computerAudioDescription: 'Transcribe a browser tab, window, or screen audio.',
    close: 'Close',
    readyToTranscribe: 'Ready to Transcribe',
    pressStartToBegin: 'Press "Start" to begin the conversation.',
    transcribingFile: 'Transcribing audio file...',
    thisMayTakeAMoment: 'This may take a moment on the server.',
    clearChatConfirmation: 'Are you sure you want to clear the entire chat? This cannot be undone.',
    startNewSessionConfirmation: 'A session is already loaded. Do you want to start a new, empty session?',
    copySuccess: 'Copied to clipboard!',
    copyFail: 'Failed to copy.',
    shareFail: 'Share feature is not supported in your browser. Try copying to clipboard instead.',
    noAudioTrackError: "No audio track found. Please ensure you checked 'Share system audio' or 'Share tab audio'.",
    screenShareError: "Could not start screen share. Please grant the required permissions.",
    interface: "Interface",
    theme: "Theme",
    language: "Language",
    changeSpeaker: "Change Speaker",
    editMessage: "Edit Message",
    splitInto: "Split into new message for",
    splitAs: 'Split as:',
    splitSelection: 'Selected Text',
    deleteMessage: "Delete message and merge with previous",
    undo: "Undo last action",
    redo: "Redo last action",
    saveToFile: "Save to File",
    saveAudioToFile: "Save audio to file",
    sessionNameTitle: 'Session Name',
    sessionNamePlaceholder: 'e.g., Project Kick-off Meeting',
    sessionNameDefault: 'Session',
    sessionHistory: 'Session History',
    loadSession: 'Load Session',
    deleteSession: 'Delete Session',
    deleteSessionConfirmation: 'Are you sure you want to delete the session "{sessionName}"? This action cannot be undone.',
    noSessionsFound: 'No saved sessions found. Your completed sessions will appear here.',
    playSessionAudio: 'Play session audio',
    aiError: 'Sorry, the AI encountered an error. Please try again.',
    fileTooLargeError: 'File is too large. The maximum size is {maxSize} MB.',
    fileReadError: 'There was an error reading the file.',
    sessionInProgress: 'A recording session is currently in progress. Please stop it before transcribing a file.',
    apiKeyTitle: 'Gemini API Key Required',
    apiKeyDescription: 'To use the AI features, please provide your Google AI API key. Your key is stored securely in your browser for this session only.',
    apiKeyInputPlaceholder: 'Enter your API key here',
    apiKeySave: 'Save Key',
    apiKeyLinkText: 'Get your key from Google AI Studio',
    insights: 'AI Insights',
    insightsDescription: 'Analyze the conversation to extract key information. Analysis requires a completed session.',
    summary: 'Summary',
    generateSummary: 'Generate Summary',
    generatingSummary: 'Generating summary...',
    actionItems: 'Action Items',
    extractActionItems: 'Extract Action Items',
    extractingActionItems: 'Extracting action items...',
    noActionItemsFound: 'No action items were found in the conversation.',
    keyTopics: 'Key Topics',
    extractKeyTopics: 'Extract Key Topics',
    extractingKeyTopics: 'Extracting key topics...',
    noKeyTopicsFound: 'No key topics were found.',
    textEditor: 'Text Editor',
    selectStyle: 'Select a style profile',
    generateStyledText: 'Proofread & Style',
    generatingStyledText: 'Processing text...',
    proofreadResultTitle: 'Edited Text',
    copy: 'Copy',
    styleDefault: 'Default',
    styleMeeting: 'Meeting',
    styleLecture: 'Lecture',
    styleDialogue: 'Dialogue',
    styleInterview: 'Interview',
    styleConsultation: 'Consultation',
    stylePodcast: 'Podcast',
    styleBlog: 'Blog',
    styleBusiness: 'Business',
    styleLiterary: 'Literary',
    stylePsychological: 'Psychological',
    styleLegal: 'Legal',
    styleScientific: 'Scientific',
    next: 'Next',
    prev: 'Back',
    done: 'Done',
    tourWelcomeTitle: 'Welcome to VoiceInk!',
    tourWelcomeBody: 'This quick tour will guide you through the main features of the application.',
    tourHistoryTitle: 'Session History',
    tourHistoryBody: 'Click on the VoiceInk logo to access your saved transcription sessions. Sessions are saved automatically when you press "Stop".',
    tourControlsTitle: 'Main Controls',
    tourControlsBody: 'Here you can undo/redo actions, export your chat, change settings, get help, or clear the current chat.',
    tourChatWindowTitle: 'Chat Area',
    tourChatWindowBody: 'Your transcribed conversation will appear here in real-time.',
    tourTranscriptionControlsTitle: 'Transcription Controls',
    tourTranscriptionControlsBody: 'Use these buttons to start/stop the session and to switch between your voice and the other speaker\'s.',
    tourEditingTitle: 'Editing is Easy!',
    tourEditingBody: 'Hover over any message to reveal editing options. You can change the speaker by clicking the avatar, edit text, delete messages, and even split a message by selecting text.',
    exportAnalysis: 'Export analysis',
    exportStyledText: 'Export styled text',
    changeStyle: 'Change Style',
    instructions: 'Instructions',
    fileInstructionP1: 'You have selected the file: {fileName}. To get the best transcription results, please follow these steps:',
    fileInstructionP2: 'After you click "Continue", a new window or tab will open with the audio file playing.',
    fileInstructionL1: '<strong>Do not close</strong> the new window/tab.',
    fileInstructionL2: 'Return to this VoiceInk tab. The transcription will <strong>start automatically</strong>.',
    fileInstructionL3: 'When you are done, <strong>stop the recording</strong> in this VoiceInk tab and then you can close the other window/tab.',
    fileInstructionNote: 'Note: This method uses your computer\'s audio output as the microphone, so it will capture any sound your computer is making.',
    continue: 'Continue',
    aiChat: 'AI Chat',
    exportAIChat: 'Export AI Chat',
    configureAgent: 'Configure Agent',
    askAIAgent: 'Ask the configured AI agent...',
    agentThinking: 'Agent is thinking...',
    textAnalysis: 'Text Analysis',
    findEntities: 'Find Entities',
    findingEntities: 'Finding entities...',
    noEntitiesFound: 'No entities found.',
    entityPERSON: 'Person',
    entityORGANIZATION: 'Organization',
    entityDATE: 'Date',
    entityLOCATION: 'Location',
    entityMONEY: 'Money',
    entityOTHER: 'Other',
    agentConfigTitle: 'AI Agent Constructor',
    agentExpertiseTitle: 'Expertise (Profession)',
    agentDomainTitle: 'Domain (Field of Activity)',
    search: 'Search...',
    agentInterviewer: 'Interviewer',
    agentReporter: 'Reporter',
    agentRecruiter: 'Recruiter',
    agentSociologist: 'Sociologist',
    agentScreenwriter: 'Screenwriter',
    agentTranslator: 'Translator-Linguist',
    agentMarketing_analyst: 'Marketing Analyst',
    agentTech_support: 'Tech Support',
    agentBusiness_analyst: 'Business Analyst',
    agentFinancial_advisor: 'Financial Advisor',
    agentProject_manager: 'Project Manager',
    agentCourse_developer: 'Course Developer',
    agentAcademic_researcher: 'Academic Researcher',
    agentTherapist: 'Therapist-Counselor',
    agentLegal_assistant: 'Legal Assistant',
    agentDetective: 'Detective-Analyst',
    agentChef_nutritionist: 'Chef / Nutritionist',
    agentCustomer_manager: 'Customer Manager',
    agentPsychologist: 'Psychologist',
    agentCoach: 'Coach',
    agentEditor: 'Editor',
    agentTutor: 'Tutor',
    agentSpeechwriter: 'Speechwriter',
    agentFinancial: 'Financial Analyst',
    agentLegal: 'Legal Advisor',
    domainGeneral: 'General',
    domainTechnology: 'Technology',
    domainFinance: 'Finance',
    domainHealthcare: 'Healthcare',
    domainLaw: 'Law',
    domainEducation: 'Education',
    domainArt_culture: 'Art & Culture',
    domainScience: 'Science',
    domainBusiness_management: 'Business Management',
    domainHuman_resources: 'Human Resources',
    domainMarketing_sales: 'Marketing & Sales',
    domainCustomer_service: 'Customer Service',
    domainPsychology: 'Psychology',
    domainCareer_development: 'Career Development',
    domainCooking_nutrition: 'Cooking & Nutrition',
    domainJournalism: 'Journalism',
    domainFilmmaking: 'Filmmaking',
    domainConstitutional_law: 'Constitutional Law',
    domainLitigation: 'Litigation',
    expand: 'Expand',
    collapse: 'Collapse',
  },
  ru: {
    voiceInk: 'VoiceInk',
    exportChat: 'Экспорт чата',
    settings: 'Настройки',
    clearChat: 'Очистить чат',
    help: 'Помощь / Гид',
    uploadAudioFile: 'Загрузить аудиофайл',
    uploadAudioFileDescription: 'Транскрибация из предварительно записанного аудиофайла.',
    start: 'Старт',
    resume: 'Продолжить',
    stop: 'Стоп',
    pause: 'Пауза',
    toggleUserMic: 'Включить/выключить микрофон для вашей речи',
    toggleAIInsights: 'Переключить панель аналитики',
    saveAsTxt: 'Сохранить как Текст (.txt)',
    saveAsTxtDescription: 'Простой, неформатированный текстовый файл.',
    saveScreenshotPdf: 'Сохранить снимок как PDF',
    saveScreenshotPdfDescription: 'PDF-файл высокой точности, сохраняющий внешний вид.',
    saveAsPng: 'Сохранить как изображение (.png)',
    saveAsPngDescription: 'Один файл-изображение всего чата.',
    exportingPdf: 'Экспорт...',
    saveAsDocx: 'Сохранить как Word (.docx)',
    saveAsDocxDescription: 'Редактируемый документ для Word или Google Docs.',
    copyToClipboard: 'Копировать в буфер',
    copyToClipboardDescription: 'Скопировать весь диалог в буфер обмена.',
    sendToApp: 'Отправить в приложение',
    sendToAppDescription: 'Использовать системную функцию "Поделиться".',
    exportForNotebookLM: 'Экспорт для NotebookLM',
    exportForNotebookLMDescription: 'Форматированный текст, готовый к анализу.',
    notebookLMInstructionsTitle: 'Готово для NotebookLM!',
    notebookLMInstructionsP1: 'Ваш файл с чатом был сохранен в папку "Загрузки".',
    notebookLMInstructionsP2: 'Следуйте этим шагам для его анализа:',
    notebookLMInstructionsL1: 'Откройте Google NotebookLM в новой вкладке.',
    notebookLMInstructionsL2: 'Создайте новый блокнот или откройте существующий.',
    notebookLMInstructionsL3: 'Добавьте скачанный файл как новый Источник (Source).',
    notebookLMInstructionsLink: 'Открыть Google NotebookLM',
    you: 'Вы',
    speaker: 'Собеседник',
    assistant: 'Ассистент',
    avatarInitial: 'Инициал',
    color: 'Цвет',
    saveChanges: 'Сохранить',
    cancel: 'Отмена',
    chooseAudioSource: 'Выберите источник звука',
    microphone: 'Микрофон',
    microphoneDescription: 'Транскрибация звука с вашего микрофона.',
    computerAudio: 'Звук компьютера',
    computerAudioDescription: 'Транскрибация из вкладки, окна или всего экрана.',
    close: 'Закрыть',
    readyToTranscribe: 'Готов к транскрибации',
    pressStartToBegin: 'Нажмите "Старт", чтобы начать разговор.',
    transcribingFile: 'Транскрибация файла...',
    thisMayTakeAMoment: 'Это может занять некоторое время на сервере.',
    clearChatConfirmation: 'Вы уверены, что хотите полностью очистить чат? Это действие необратимо.',
    startNewSessionConfirmation: 'Сессия уже загружена. Вы хотите начать новую, пустую сессию?',
    copySuccess: 'Скопировано в буфер!',
    copyFail: 'Не удалось скопировать.',
    shareFail: 'Функция "Поделиться" не поддерживается в вашем браузере. Попробуйте скопировать в буфер обмена.',
    noAudioTrackError: "Аудиодорожка не найдена. Убедитесь, что вы включили 'Поделиться системным звуком' или 'Поделиться звуком вкладки'.",
    screenShareError: "Не удалось начать трансляцию экрана. Предоставьте необходимые разрешения.",
    interface: "Интерфейс",
    theme: "Тема",
    language: "Язык",
    changeSpeaker: "Сменить говорящего",
    editMessage: "Редактировать сообщение",
    splitInto: "Разделить в новое сообщение для",
    splitAs: 'Разделить как:',
    splitSelection: 'Выделенный текст',
    deleteMessage: "Удалить сообщение и объединить с предыдущим",
    undo: "Отменить последнее действие",
    redo: "Повторить последнее действие",
    saveToFile: "Сохранить в файл",
    saveAudioToFile: "Сохранить аудио в файл",
    sessionNameTitle: 'Название сессии',
    sessionNamePlaceholder: 'Например, Стартовое совещание по проекту',
    sessionNameDefault: 'Сессия',
    sessionHistory: 'История сессий',
    loadSession: 'Загрузить сессию',
    deleteSession: 'Удалить сессию',
    deleteSessionConfirmation: 'Вы уверены, что хотите удалить сессию "{sessionName}"? Это действие необратимо.',
    noSessionsFound: 'Сохраненных сессий не найдено. Ваши завершенные сессии появятся здесь.',
    playSessionAudio: 'Воспроизвести аудио сессии',
    aiError: 'К сожалению, произошла ошибка AI. Пожалуйста, попробуйте еще раз.',
    fileTooLargeError: 'Файл слишком большой. Максимальный размер - {maxSize} МБ.',
    fileReadError: 'Произошла ошибка при чтении файла.',
    sessionInProgress: 'Идет запись сессии. Пожалуйста, остановите ее перед транскрибацией файла.',
    apiKeyTitle: 'Требуется API-ключ Gemini',
    apiKeyDescription: 'Для использования AI-функций, пожалуйста, укажите ваш API-ключ от Google AI. Ваш ключ будет безопасно сохранен в браузере только на время этой сессии.',
    apiKeyInputPlaceholder: 'Введите ваш API-ключ здесь',
    apiKeySave: 'Сохранить ключ',
    apiKeyLinkText: 'Получите ключ в Google AI Studio',
    insights: 'AI Аналитика',
    insightsDescription: 'Проанализируйте разговор, чтобы извлечь ключевую информацию. Анализ требует завершенной сессии.',
    summary: 'Краткое содержание',
    generateSummary: 'Создать содержание',
    generatingSummary: 'Создание содержания...',
    actionItems: 'Задачи и действия',
    extractActionItems: 'Извлечь задачи',
    extractingActionItems: 'Извлечение задач...',
    noActionItemsFound: 'В разговоре не найдено никаких задач.',
    keyTopics: 'Ключевые темы',
    extractKeyTopics: 'Извлечь темы',
    extractingKeyTopics: 'Извлечение тем...',
    noKeyTopicsFound: 'Ключевые темы не найдены.',
    textEditor: 'Редактор текста',
    selectStyle: 'Выберите стиль текста',
    generateStyledText: 'Проверить и стилизовать',
    generatingStyledText: 'Обработка текста...',
    proofreadResultTitle: 'Отредактированный текст',
    copy: 'Копировать',
    styleDefault: 'Стандартный',
    styleMeeting: 'Совещание',
    styleLecture: 'Лекция',
    styleDialogue: 'Диалог',
    styleInterview: 'Интервью',
    styleConsultation: 'Консультация',
    stylePodcast: 'Подкаст',
    styleBlog: 'Блог',
    styleBusiness: 'Деловой',
    styleLiterary: 'Литературный',
    stylePsychological: 'Психологический',
    styleLegal: 'Юридический',
    styleScientific: 'Научный',
    next: 'Далее',
    prev: 'Назад',
    done: 'Готово',
    tourWelcomeTitle: 'Добро пожаловать в VoiceInk!',
    tourWelcomeBody: 'Этот краткий гид познакомит вас с основными функциями приложения.',
    tourHistoryTitle: 'История сессий',
    tourHistoryBody: 'Нажмите на логотип VoiceInk, чтобы получить доступ к вашим сохраненным сессиям. Сессии сохраняются автоматически, когда вы нажимаете "Стоп".',
    tourControlsTitle: 'Основные элементы управления',
    tourControlsBody: 'Здесь вы можете отменять/повторять действия, экспортировать чат, изменять настройки, вызывать помощь или очищать текущий чат.',
    tourChatWindowTitle: 'Область чата',
    tourChatWindowBody: 'Ваш транскрибированный разговор будет появляться здесь в режиме реального времени.',
    tourTranscriptionControlsTitle: 'Управление транскрипцией',
    tourTranscriptionControlsBody: 'Используйте эти кнопки, чтобы начать/остановить сессию и переключаться между вашим голосом и голосом собеседника.',
    tourEditingTitle: 'Редактировать — это просто!',
    tourEditingBody: 'Наведите курсор на любое сообщение, чтобы увидеть опции редактирования. Вы можете сменить говорящего, нажав на аватар, редактировать текст, удалять сообщения и даже разделять сообщение, выделив его часть.',
    exportAnalysis: 'Экспорт аналитики',
    exportStyledText: 'Экспорт текста',
    changeStyle: 'Изменить стиль',
    instructions: 'Инструкции',
    fileInstructionP1: 'Вы выбрали файл: {fileName}. Для наилучших результатов транскрипции, пожалуйста, следуйте этим шагам:',
    fileInstructionP2: 'После нажатия "Продолжить" откроется новое окно или вкладка с воспроизведением аудиофайла.',
    fileInstructionL1: '<strong>Не закрывайте</strong> новое окно/вкладку.',
    fileInstructionL2: 'Вернитесь на эту вкладку VoiceInk. Транскрипция <strong>начнется автоматически</strong>.',
    fileInstructionL3: 'Когда закончите, <strong>остановите запись</strong> на этой вкладке VoiceInk, и затем можете закрыть другое окно/вкладку.',
    fileInstructionNote: 'Примечание: Этот метод использует аудиовыход вашего компьютера в качестве микрофона, поэтому он будет захватывать любой звук, который издает ваш компьютер.',
    continue: 'Продолжить',
    aiChat: 'AI Чат',
    exportAIChat: 'Экспорт AI-чата',
    configureAgent: 'Настроить агента',
    askAIAgent: 'Спросите настроенного AI-агента...',
    agentThinking: 'Агент думает...',
    textAnalysis: 'Анализ текста',
    findEntities: 'Найти сущности',
    findingEntities: 'Поиск сущностей...',
    noEntitiesFound: 'Сущности не найдены.',
    entityPERSON: 'Человек',
    entityORGANIZATION: 'Организация',
    entityDATE: 'Дата',
    entityLOCATION: 'Место',
    entityMONEY: 'Деньги',
    entityOTHER: 'Другое',
    agentConfigTitle: 'Конструктор AI-агентов',
    agentExpertiseTitle: 'Экспертиза (Профессия)',
    agentDomainTitle: 'Сфера деятельности',
    search: 'Поиск...',
    agentInterviewer: 'Интервьюер',
    agentReporter: 'Репортёр',
    agentRecruiter: 'Рекрутер',
    agentSociologist: 'Социолог',
    agentScreenwriter: 'Сценарист',
    agentTranslator: 'Переводчик-лингвист',
    agentMarketing_analyst: 'Маркетолог-аналитик',
    agentTech_support: 'Техническая поддержка',
    agentBusiness_analyst: 'Бизнес-аналитик',
    agentFinancial_advisor: 'Финансовый советник',
    agentProject_manager: 'Менеджер проектов',
    agentCourse_developer: 'Разработчик учебных курсов',
    agentAcademic_researcher: 'Академический исследователь',
    agentTherapist: 'Терапевт-консультант',
    agentLegal_assistant: 'Юрист-ассистент',
    agentDetective: 'Детектив-аналитик',
    agentChef_nutritionist: 'Шеф-повар / Нутрициолог',
    agentCustomer_manager: 'Менеджер по работе с клиентами',
    agentPsychologist: 'Психолог-супервизор',
    agentCoach: 'Коуч',
    agentEditor: 'Редактор',
    agentTutor: 'Репетитор',
    agentSpeechwriter: 'Спичрайтер',
    agentFinancial: 'Финансист',
    agentLegal: 'Юрисконсульт',
    domainGeneral: 'Общая',
    domainTechnology: 'Технологии',
    domainFinance: 'Финансы',
    domainHealthcare: 'Здравоохранение',
    domainLaw: 'Право',
    domainEducation: 'Образование',
    domainArt_culture: 'Искусство и Культура',
    domainScience: 'Наука',
    domainBusiness_management: 'Бизнес и Управление',
    domainHuman_resources: 'Кадры (HR)',
    domainMarketing_sales: 'Маркетинг и Продажи',
    domainCustomer_service: 'Клиентский сервис',
    domainPsychology: 'Психология',
    domainCareer_development: 'Карьерное развитие',
    domainCooking_nutrition: 'Кулинария и Питание',
    domainJournalism: 'Журналистика',
    domainFilmmaking: 'Кинопроизводство',
    domainConstitutional_law: 'Конституционное право',
    domainLitigation: 'Судебные разбирательства',
    expand: 'Развернуть',
    collapse: 'Свернуть',
  },
  es: {
    // ... (same structure as 'en' and 'ru')
  },
  fr: {
    // ...
  },
  de: {
    // ...
  },
  ja: {
    // ...
  },
  zh: {
    // ...
  },
};

// FIX: Moved Language type definition before its usage to resolve circular reference error.
export type Language = keyof typeof translations;

// Add stubs for other languages based on English
const languages: Language[] = ['es', 'fr', 'de', 'ja', 'zh'];
languages.forEach(lang => {
    if (Object.keys(translations[lang]).length < Object.keys(translations.en).length) {
        translations[lang] = { ...translations.en, ...translations[lang], exportAIChat: 'Export AI Chat' };
    }
});


export const availableLanguages: { code: Language; name: string }[] = [
  { code: 'en', name: 'English' },
  { code: 'ru', name: 'Русский' },
  { code: 'es', name: 'Español' },
  { code: 'fr', name: 'Français' },
  { code: 'de', name: 'Deutsch' },
  { code: 'ja', name: '日本語' },
  { code: 'zh', name: '中文' },
];

export function t(key: keyof (typeof translations)['en'], lang: Language, options: Record<string, any> = {}): string {
  let translation = translations[lang]?.[key] || translations.en[key];

  if (typeof translation === 'string') {
      Object.keys(options).forEach(optionKey => {
        const value = options[optionKey];
        if(typeof value === 'string' || typeof value === 'number') {
            translation = translation.replace(`{${optionKey}}`, String(value));
        }
      });
      if (options.strong && typeof options.strong === 'function') {
        translation = translation.replace(/<strong>(.*?)<\/strong>/g, (_match, content) => options.strong(content));
      }
  }

  return translation;
}

export const langToCode = (lang: string): string => {
  const map: { [key: string]: string } = {
    en: 'en-US',
    ru: 'ru-RU',
    es: 'es-ES',
    fr: 'fr-FR',
    de: 'de-DE',
    ja: 'ja-JP',
    zh: 'zh-CN',
  };
  return map[lang] || 'en-US';
};
